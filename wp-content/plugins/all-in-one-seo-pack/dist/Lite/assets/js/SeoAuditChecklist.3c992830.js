import{G as I}from"./constants.a8a14dc3.js";import{n as L,a as D,q as j,c as w,u as G,m as U,k as P}from"./index.4fea5b8a.js";import{C as V}from"./Card.9a64d2e2.js";import{C as q}from"./Tabs.4288f191.js";import{C as W}from"./SeoSiteAnalysisResults.580a84a9.js";import{g as H,v as a,o as n,c as y,H as d,b as S,a as r,t as p,G as F,N as K,k as R,l as m,x,w as Y,f as J,z as Q,u,J as X,K as Z}from"./runtime-dom.esm-bundler.baf35205.js";import{u as $,p as ee}from"./popup.fda4789c.js";import{u as E}from"./SeoSiteScore.6e42b137.js";import{C as se}from"./Blur.601d8ea8.js";import{C as oe}from"./Index.eeb13003.js";import{S as te}from"./Book.5c6b4513.js";import{S as re}from"./Lab.2c420be4.js";import"./translations.d159963e.js";import{_ as N}from"./_plugin-vue_export-helper.eefbdd86.js";import{_,s as M}from"./default-i18n.20001971.js";import{C as ne}from"./Tooltip.70b51a50.js";import{S as ae}from"./Refresh.4b0d6fa0.js";import{a as ie}from"./index.7fee6f1a.js";import"./helpers.114e9c35.js";import"./Caret.7cc96622.js";import"./Slide.1db617da.js";import"./vue-router.fd2bb90e.js";import"./ProBadge.2e262a91.js";import"./Information.8cb16b63.js";import"./helpers.da4c5c22.js";import"./metabox.5993e7e8.js";import"./cleanForSlug.2f987c7a.js";import"./toString.bbd66337.js";import"./contentHasAssets.e1428256.js";import"./_baseSet.a1a8944e.js";import"./regex.8a6101c0.js";import"./GoogleSearchPreview.5a163f1c.js";import"./Url.41ca37be.js";import"./Gear.9759526d.js";import"./SetupWizardStore.332a75f3.js";import"./params.af7ed354.js";const O="all-in-one-seo-pack",le={setup(i){const{errorObject:l,strings:g}=E({score:H(i.score)});return{analyzerStore:L(),composableStrings:g,errorObject:l,links:D}},components:{CoreSiteScore:oe,SvgBook:te,SvgDannieLab:re},props:{score:Number,loading:Boolean,description:String,summary:{type:Object,default(){return{}}}},data(){return{strings:j({yourOverallSiteScore:_("Your Overall Site Score",O),goodResult:M(_("A very good score is between %1$s%3$d and %4$d%2$s.",O),"<strong>","</strong>",50,75),forBestResults:M(_("For best results, you should strive for %1$s%3$d and above%2$s.",O),"<strong>","</strong>",70),readUltimateSeoGuide:_("Read the Ultimate WordPress SEO Guide",O)},this.composableStrings)}}},ce={class:"aioseo-seo-analysis"},ue={key:0,class:"seo-analysis-score"},me={key:1,class:"seo-analysis-description"},de=["innerHTML"],_e=["innerHTML"],pe={class:"d-flex"},ge=["href"],he={key:2,class:"seo-analysis-error"},ye={class:"error-title"},Se=["innerHTML"],fe={class:"error-action-buttons"};function ke(i,l,g,e,t,o){const C=a("core-site-score"),h=a("svg-book"),z=a("svg-dannie-lab"),v=a("base-button");return n(),y("div",ce,[e.analyzerStore.analyzeError?S("",!0):(n(),y("div",ue,[d(C,{loading:g.loading,score:g.score,description:g.description,strokeWidth:1.75},null,8,["loading","score","description"])])),e.analyzerStore.analyzeError?S("",!0):(n(),y("div",me,[r("h2",null,p(t.strings.yourOverallSiteScore),1),r("div",{innerHTML:t.strings.goodResult},null,8,de),r("div",{innerHTML:t.strings.forBestResults},null,8,_e),r("div",pe,[d(h),r("a",{href:e.links.getDocUrl("ultimateGuide"),target:"_blank"},p(t.strings.readUltimateSeoGuide),9,ge)])])),e.analyzerStore.analyzeError&&e.errorObject?(n(),y("div",he,[d(z),r("p",ye,p(t.strings.anErrorOccurred),1),r("p",{class:"error-description",innerHTML:e.errorObject.description},null,8,Se),r("div",fe,[(n(!0),y(F,null,K(e.errorObject.buttons,(s,b)=>(n(),R(v,{key:b,type:s.type,tag:s.tag?s.tag:"button",target:"_blank",href:s.url?s.url:"",size:"medium",loading:(s==null?void 0:s.runAgain)&&e.analyzerStore.analyzing,onClick:T=>s!=null&&s.runAgain?e.analyzerStore.runSiteAnalyzer():""},{default:m(()=>[x(p(s.text),1)]),_:2},1032,["type","tag","href","loading","onClick"]))),128))])])):S("",!0)])}const B=N(le,[["render",ke]]),Ce={class:"aioseo-seo-site-score"},ze={key:1,class:"aioseo-seo-site-score-cta"},ve={__name:"Analyze",setup(i){const l=H(0),{connectWithAioseo:g,description:e,strings:t}=E({score:l}),o=L(),C=$(),h=w(),z=G();Y(()=>o.homeResults.score,c=>{l.value=c});const v=J(()=>({recommended:o.recommendedCount(),critical:o.criticalCount(),good:o.goodCount()})),s=c=>{ee(c,g,600,630,!0,["token"],b,T)},b=c=>C.saveConnectToken(c.token),T=c=>{c&&o.runSiteAnalyzer(),o.analyzing=!0};return Q(()=>{!o.homeResults.score&&h.internalOptions.internal.siteAnalysis.connectToken&&(o.analyzing=!0,o.runSiteAnalyzer()),l.value=o.homeResults.score}),(c,A)=>(n(),y("div",Ce,[u(h).internalOptions.internal.siteAnalysis.connectToken?S("",!0):(n(),R(u(se),{key:0},{default:m(()=>[d(u(B),{score:85,description:u(e)},null,8,["description"])]),_:1})),u(h).internalOptions.internal.siteAnalysis.connectToken?S("",!0):(n(),y("div",ze,[r("a",{href:"#",onClick:A[0]||(A[0]=X(f=>s(u(z).aioseo.urls.connect),["prevent"]))},p(u(g)),1),x(" "+p(u(t).toSeeYourSiteScore),1)])),u(h).internalOptions.internal.siteAnalysis.connectToken?(n(),R(u(B),{key:2,score:l.value,description:u(e),loading:c.analyzing,summary:v.value},null,8,["score","description","loading","summary"])):S("",!0)]))}},k="all-in-one-seo-pack",be={setup(){return{analyzerStore:L(),licenseStore:U(),optionsStore:w(),rootStore:G(),settingsStore:P()}},components:{CoreCard:V,CoreMainTabs:q,CoreSeoSiteAnalysisResults:W,CoreSeoSiteScoreAnalyze:ve,CoreTooltip:ne,SvgCircleQuestionMark:ie,SvgRefresh:ae},data(){return{internalDebounce:!1,homeResults:{results:[],score:null},strings:{completeSeoChecklist:_("Complete SEO Checklist",k),refreshResults:_("Refresh Results",k),cardDescription:_("These are the results our SEO Analzyer has generated after analyzing the homepage of your website.",k)+" "+D.getDocLink(I.learnMore,"seoAnalyzer",!0)}}},computed:{tabs(){var l;const i=(l=this.homeResults)==null?void 0:l.score;return[{slug:"all-items",label:_("All Items",k),analyze:{classColor:"black",count:i?this.analyzerStore.allItemsCount():0}},{slug:"critical",label:_("Important Issues",k),analyze:{classColor:"red",count:i?this.analyzerStore.criticalCount():0}},{slug:"recommended-improvements",label:_("Recommended Improvements",k),analyze:{classColor:"blue",count:i?this.analyzerStore.recommendedCount():0}},{slug:"good-results",label:_("Good Results",k),analyze:{classColor:"green",count:i?this.analyzerStore.goodCount():0}}]}},methods:{processChangeTab(i){this.internalDebounce||(this.internalDebounce=!0,this.settingsStore.changeTab({slug:"seoAuditChecklist",value:i}),setTimeout(()=>{this.internalDebounce=!1},50))},async refresh(){this.analyzerStore.analyzing=!0,await this.analyzerStore.runSiteAnalyzer({refresh:!0}),this.analyzerStore.getSiteAnalysisResults().then(()=>{this.homeResults=this.analyzerStore.homeResults,this.analyzerStore.analyzing=!1})}},mounted(){this.homeResults=this.analyzerStore.homeResults}},Ae={class:"aioseo-seo-audit-checklist"},Re=["innerHTML"],Te={class:"label"};function Oe(i,l,g,e,t,o){var A;const C=a("core-seo-site-score-analyze"),h=a("core-card"),z=a("svg-circle-question-mark"),v=a("core-tooltip"),s=a("svg-refresh"),b=a("base-button"),T=a("core-main-tabs"),c=a("core-seo-site-analysis-results");return n(),y("div",Ae,[d(h,{slug:"connectOrScore","hide-header":"","no-slide":"",toggles:!1},{default:m(()=>[d(C)]),_:1}),(e.rootStore.isPro&&e.licenseStore.licenseKey||e.optionsStore.internalOptions.internal.siteAnalysis.connectToken)&&((A=t.homeResults)!=null&&A.score)?(n(),R(h,{key:0,slug:"completeSeoChecklist","no-slide":"",toggles:!1},{header:m(()=>[r("span",null,p(t.strings.completeSeoChecklist),1),d(v,null,{tooltip:m(()=>[r("span",{innerHTML:t.strings.cardDescription},null,8,Re)]),default:m(()=>[d(z)]),_:1})]),"header-extra":m(()=>[d(b,{class:"refresh-results",type:"gray",size:"small",onClick:o.refresh,loading:e.analyzerStore.analyzing},{default:m(()=>[d(s),x(" "+p(t.strings.refreshResults),1)]),_:1},8,["onClick","loading"])]),tabs:m(()=>[d(T,{tabs:o.tabs,showSaveButton:!1,active:e.settingsStore.settings.internalTabs.seoAuditChecklist,internal:"",onChanged:o.processChangeTab,"skinny-tabs":""},{"var-tab":m(({tab:f})=>[r("span",{class:Z(["round",f.analyze.classColor])},p(f.analyze.count||0),3),r("span",Te,p(f.label),1)]),_:1},8,["tabs","active","onChanged"])]),default:m(()=>{var f;return[((f=t.homeResults)==null?void 0:f.results)!==null?(n(),R(c,{key:0,section:e.settingsStore.settings.internalTabs.seoAuditChecklist,"all-results":t.homeResults.results,"show-instructions":""},null,8,["section","all-results"])):S("",!0)]}),_:1})):S("",!0)])}const ms=N(be,[["render",Oe]]);export{ms as default};
